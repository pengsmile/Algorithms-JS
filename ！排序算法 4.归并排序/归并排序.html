<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        //归并排序
        //1.不断将数组对半分，直到每个数组只有一个
        //2..将分出来的部分，重新按照顺序合并
        function mergeSort(myArray) {
            // 只有一个数的时候退出递归
            if (myArray.length < 2) {
                return myArray;
            }
            var middle = Math.floor(myArray.length / 2),
                left = myArray.slice(0, middle),
                right = myArray.slice(middle);
            return merge(mergeSort(left), mergeSort(right));
        }
        // 被拆分的数组重新合并
        function merge(left, right) {
            var result = [],
                left_index = 0,
                right_index = 0;
            while (left_index < left.length && right_index < right.length) {
                if (left[left_index] < right[right_index]) {
                    result.push(left[left_index++]);
                } else {
                    result.push(right[right_index++]);
                }
            }
            return result.concat(left.slice(left_index)).concat(right.slice(right_index));
        }

        console.log(merge([5,6,7,8], [1,2,3,4]))


        //测试一下
        var dataStore = [1, 8, 3, 2, 9, 5, 4, 7];
        console.log(mergeSort(dataStore));


        // const mergeSort2 = array => {
        //     if (array.length > 1) {
        //         const middle = Math.floor(length / 2);
        //         const left = merge(array.slice(0, middle));
        //         const right = merge(array.slice(middle, array.length));
        //         array = merge(left, right);
        //     }
        //     return array
        // }

        const Merge = (left, right) => {
            let left_index = 0, right_index = 0; result = [];
            while(left_index < left.length && right_index < right.length) {
                if (left[left_index] < right[right_index]) {
                    result.push(left[left_index++])
                } else {
                    result.push(right[right_index++])
                }
            }
            return result.concat(array.slice(left_index)).concat(array.slice(right_index));
        }
        const MergeSort2 = array => {
            if (array.length < 2) return array
            const middle = Math.floor(array.length / 2);
            const left = MergeSort2(array.slice(0, middle));
            const right = MergeSort2(array.slice(middle, array.length));
            return Merge(left, right)
        }

        const MergeSort5 = array => {
            if (array.length < 2) return array
            const middle = Math.floor(array.length / 2);
            const left = MergeSort5(array.slice(0, middle));
            const right = MergeSort5(array.slice(middle, array.length));
            return Merge5(left, right);

        }
        const Merge5 = (left, right) => {
            let left_index = 0; right_index = 0; result = [];
            while(left_index < left.length && right.length < right_index) {
                if (left[left_index] < right[right_index]) {
                    result.push(left[left_index++])
                } else {
                    result.push(right[right_index++])
                }
            }
            return result.concat(left.slice(left_index)).concat(right.slice(right_index));
        }
    </script>
</body>

</html>